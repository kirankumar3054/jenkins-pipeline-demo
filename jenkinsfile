pipeline {
  agent any
  stages {
    stage('commit') {
      steps {
        echo 'build'
      }
    }
    stage('Build') {
      steps {
        parallel(
          "Build": {
            sleep 1
            
          },
          "Build in parallel-Component1": {
            echo 'building Component1...'
          }
          "Build in parallel-Component2": {
            echo 'building Component2...'
          }
        )
      }
    }
    stage('Approve') {
      steps {
        input 'deploy to staging?'
      }
    }
    stage('Deploy') {
      steps {
        parallel(
          "Deploy": {
            echo 'deployment done'
            
          },
          "Read Cfg": {
            readJSON(file: './deployment_parameters__azure_accountsmassprinting.json')
            
          }
        )
      }
    }
  }
}
